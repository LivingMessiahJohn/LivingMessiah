@page "/NavigationSearch"

<PageHeader PageEnum="LivingMessiah.Enums.Nav.NavigationSearch" />

<input class="form-control me-2 mt-2 mb-2" @bind-value="SearchText"
			 @bind-value:event="oninput"
			 placeholder="Search by page" />

@if (!NavList!.Any())
{
	<p>Loading some links...</p>
}
else
{
	<div class="h5 ml-1">
		<ol class="fa-ul">
			@foreach (var link in FilteredLinks!)
			{
				<li><a href="@link.Index">@link.Title</a></li>
			}
		</ol>
	</div>
}

@code {

	private IEnumerable<Nav>? NavList = Nav.List
		.ToList()
		.Where(w => w.IsPartOfList(PageListType.SitemapPage) && !w.IsPartOfList(PageListType.HealthCheck))
		.OrderBy(o => o.Name);

	public string SearchText = "";

	List<Nav>? FilteredLinks => NavList!.Where(w => w.Title!.ToLower().Contains(SearchText.ToLower())).ToList();

	//protected override void OnInitialized()	{	}

}