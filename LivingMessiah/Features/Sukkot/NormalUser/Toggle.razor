@using LivingMessiah.Features.Sukkot.IndexComponents

<div class="row mb-3">
	<div class="col-12">
		@if (IsCollapsed)
		{
			<button @onclick="@(e => ToggleButtonClick(IsCollapsed))"
						class="btn-primary btn-sm float-end">
				Form Details <i class='fas fa-chevron-down'></i>
			</button>
		}
		else
		{
			<button @onclick="@(e => ToggleButtonClick(IsCollapsed))"
						class="btn-primary btn-sm float-end">
				Hide <i class='fas fa-chevron-up'></i>
			</button>
		}
	</div>
</div>

@if (!IsCollapsed)
{
	<div class="card mt-0 mb-3">
		<div class="card-body bg-light">
			@* This can only occurs if during Update/Edit *@
			<EntryForm Email="@Email" Id="@Id" />
		</div>
	</div>
}

@code {
	[Parameter, EditorRequired] public int? Id { get; set; }
	[Parameter, EditorRequired] public string? Email { get; set; }

	public bool IsCollapsed { get; set; } = true;
	protected void ToggleButtonClick(bool isCollapsed)
	{
		IsCollapsed = !isCollapsed;
	}
}
