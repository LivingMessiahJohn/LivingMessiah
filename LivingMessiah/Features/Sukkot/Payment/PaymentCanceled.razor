@page "/Sukkot/PaymentCanceled"

@using Page = LivingMessiah.Features.Sukkot.Enums.Pages
@using LivingMessiah.Features.Sukkot.Components
@using LivingMessiah.SecurityRoot
@using Microsoft.AspNetCore.Components.Authorization


<PageTitle>@Page.CancelRegistration.Title</PageTitle>
@* 
ToDo: 
- investigate how to implement PageHeader and remove<PageTitle>
- this is dependent on how much of the Admin code removal task is done
- it's also probably dependent on the refactoring of `NavButtons.cs` and `Pages.cs`
<PageHeader PageEnum="@Nav.DonateReplyConfirm" /> 
*@

<AuthorizeView Policy=@Auth0.Policy.Name>
	<Authorized>
    <div class="pb-2 mt-4 mb-2 border-bottom">
      <h1><span class="text-secondary @Page.CancelRegistration.Icon"></span> @Page.CancelRegistration.Title</h1>
    </div>

    <div class="d-flex justify-content-center mt-4">
      <div class="card border border-dark-subtle border-3" style="width: 50rem;">
        <div class="card-header fs-2 text-center">We're sorry you had a problem</div>

        <div class="card-body">
          <p class="fs-6 text-center">
            It appears that your donation transaction for Sukkot Registration <b>was not completed</b>.
            If you changed your mind, that's perfectly fine.
            However, if you ran into some other difficulty, feel free to contact us and we will work to correct the problem.
            You can email us at @((MarkupString)AnchorEmail).
          </p>
        </div>

        <div class="card-footer text-center"><ReturnToIntroButton /></div>
      </div>

    </div>

	</Authorized>
	<NotAuthorized>
    <div class="card border-warning my-5">
      <div class="card-header">Not Authorized</div>
    </div>
	</NotAuthorized>
</AuthorizeView>



@code {
  protected readonly MarkupString AnchorEmail =
    new MarkupString($"<a href='mailto:{Emails.Donations.Email()}'>{Emails.Donations.Email()}</a>");
}


