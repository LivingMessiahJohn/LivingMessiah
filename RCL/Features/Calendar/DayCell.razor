@using CalendarEnumDateType = RCL.Features.Calendar.Enums.DateType
@using ConstantsCSS = RCL.Features.Calendar.Constants.CSS.DayCell
@using Microsoft.AspNetCore.Components

@* @inject ILogger<DayCell>? Logger  *@

<div class="calendar-day @CSSToday @CSSMonth">
	@if (DayCellList is not null && DayCellList.Any())
	{
		<div class="day-content">
			@foreach (var item in DayCellList!)
			{
				<div class="d-flex @item.JustifyContentSuffix @FontSize" title="@GetTitle(@item)">
					@((MarkupString)item.Span)
				</div>
			}
		</div>
	}
	else
	{
		<div class="">&nbsp;</div>
	}	
	<div class="day-number">@Date.Day</div>
</div>

@code {
	[Parameter, EditorRequired] public DateOnly Date { get; set; }
	[Parameter, EditorRequired] public int MonthNumber { get; set; }
	[Parameter, EditorRequired] public List<Enums.EventRecord>? DayCellList { get; set; }
	[Parameter, EditorRequired] public string FontSize { get; set; }

	private string CSSToday => Date == DateOnly.FromDateTime(DateTime.Today) ? ConstantsCSS.Today : string.Empty;
	private string CSSMonth => Date.Month == MonthNumber ? ConstantsCSS.CurrentMonth : ConstantsCSS.OtherMonth;

	private string GetTitle(Enums.EventRecord item)
	{
		//return $"JCS: {item.JustifyContentSuffix}, Span: {item.Span}, Sorts: {item.Sort1}|{item.Sort2}";
		return string.Empty;
	}	

	private string ShowTitle
	{
		get
		{
			string title = "";
			return title;
		}
	}

	void ShowModal()
	{
		//modalOpen = true; ModalIsNotShownToggle = false; 	modalClass += " show";
		StateHasChanged();
	}
}