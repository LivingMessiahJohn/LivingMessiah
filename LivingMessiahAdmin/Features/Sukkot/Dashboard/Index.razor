@using FilterEnums = LivingMessiahAdmin.Features.Sukkot.Dashboard.Enums.Filter

@page "/SukkotDashboard"

@using LivingMessiahAdmin.Features.Sukkot.Enums

@using Microsoft.AspNetCore.Components.Authorization
@using LivingMessiahAdmin.SecurityRoot
@using RoleGroup = LivingMessiahAdmin.Enums.RoleGroup

<AuthorizeView Policy=@RoleGroup.Sukkot>
  <Authorized>
    <PageHeaderMenubar MenuBarEnum=MenuBar.Dashboard />
      <FilterButtons Filter="Filter" OnFilterSelected="ReturnedFilter" />
    <Grid Filter="Filter" />
  </Authorized>
  <NotAuthorized>
    <LoginRedirectCard Nav="Nav.SukkotDashboard" ReturnUrl=@Nav.SukkotDashboard.Index />
    <div class="alert alert-warning text-end" role="alert">
      <small>Not Authorized; Role Group Policy: @RoleGroup.Sukkot</small>
    </div>
  </NotAuthorized>
</AuthorizeView>

@code {
  private FilterEnums? Filter = FilterEnums.RegisteredOrPaid;
  void ReturnedFilter(FilterEnums filter)
  {
    Filter = filter;
  }
}
